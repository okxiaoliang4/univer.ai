import { Callout, Tabs } from 'nextra/components'
import VersionBadge from '@/components/version-badge'
import FeatureMeta from '@/components/feature-meta'

# Core Features

<FeatureMeta texts={['✅', '-', '-', '✅', 'UniverSheetsCorePreset' ]} />

Core packages implement the basic functions of the spreadsheet, including the core functions of Univer Sheet, such as creating workbooks, cell editing, cell selection, and formulas.

This feature includes the following plugin packages:

* [`@univerjs/engine-render`](https://www.npmjs.com/package/@univerjs/engine-render) - Render Engine Plugin
* [`@univerjs/engine-formula`](https://www.npmjs.com/package/@univerjs/engine-formula) - Formula Engine Plugin
* [`@univerjs/ui`](https://www.npmjs.com/package/@univerjs/ui) - Fundamental UI Plugin
* [`@univerjs/docs`](https://www.npmjs.com/package/@univerjs/docs) - Doc Plugin
* [`@univerjs/docs-ui`](https://www.npmjs.com/package/@univerjs/docs-ui) - Doc UI Plugin
* [`@univerjs/sheets`](https://www.npmjs.com/package/@univerjs/sheets) - Sheet Plugin
* [`@univerjs/sheets-ui`](https://www.npmjs.com/package/@univerjs/sheets-ui) - Sheet UI Plugin
* [`@univerjs/sheets-formula`](https://www.npmjs.com/package/@univerjs/sheets-formula) - Formula Plugin
* [`@univerjs/sheets-formula-ui`](https://www.npmjs.com/package/@univerjs/sheets-formula-ui) - Formula UI Plugin
* [`@univerjs/sheets-numfmt`](https://www.npmjs.com/package/@univerjs/sheets-numfmt) - Number Format Plugin

## Installation with Presets

<Tabs items={['pnpm', 'npm']}>
  <Tabs.Tab>
    ```shell
    pnpm add @univerjs/core @univerjs/design @univerjs/engine-render @univerjs/engine-formula @univerjs/ui @univerjs/docs @univerjs/docs-ui @univerjs/sheets @univerjs/sheets-ui @univerjs/sheets-formula @univerjs/sheets-formula-ui @univerjs/sheets-numfmt 
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```shell
    npm install @univerjs/core @univerjs/design @univerjs/engine-render @univerjs/engine-formula @univerjs/ui @univerjs/docs @univerjs/docs-ui @univerjs/sheets @univerjs/sheets-ui @univerjs/sheets-formula @univerjs/sheets-formula-ui @univerjs/sheets-numfmt
    ```
  </Tabs.Tab>
</Tabs>

```typescript {2-3,10,15}
import { createUniver, defaultTheme, LocaleType, Tools } from '@univerjs/presets';
import { UniverSheetsCorePreset } from '@univerjs/presets/preset-sheets-core';
import sheetsCoreEnUS from '@univerjs/presets/preset-sheets-core/locales/en-US';

const { univerAPI } = createUniver({
    locale: LocaleType.EN_US,
    locales: {
        enUS: Tools.deepMerge(
            {},
            sheetsCoreEnUS
        ),
    },
    theme: defaultTheme,
    presets: [
        UniverSheetsCorePreset(),
    ]
});
```

## Advanced Installation

<Tabs items={['pnpm', 'npm']}>
  <Tabs.Tab>
    ```shell
    pnpm add @univerjs/core @univerjs/design @univerjs/engine-render @univerjs/engine-formula @univerjs/ui @univerjs/docs @univerjs/docs-ui @univerjs/sheets @univerjs/sheets-ui @univerjs/sheets-formula @univerjs/sheets-formula-ui @univerjs/sheets-numfmt 
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```shell
    npm install @univerjs/core @univerjs/design @univerjs/engine-render @univerjs/engine-formula @univerjs/ui @univerjs/docs @univerjs/docs-ui @univerjs/sheets @univerjs/sheets-ui @univerjs/sheets-formula @univerjs/sheets-formula-ui @univerjs/sheets-numfmt
    ```
  </Tabs.Tab>
</Tabs>

```typescript {2-19,21-26,28-34,41-47,52-63}
import { Univer, LocaleType, Tools } from '@univerjs/core';
import { defaultTheme } from "@univerjs/design";
import { UniverRenderEnginePlugin } from "@univerjs/engine-render";
import { UniverFormulaEnginePlugin } from "@univerjs/engine-formula";
import { UniverUIPlugin } from "@univerjs/ui";
import { UniverDocsPlugin } from "@univerjs/docs";
import { UniverDocsUIPlugin } from "@univerjs/docs-ui";
import { UniverSheetsPlugin } from "@univerjs/sheets";
import { UniverSheetsUIPlugin } from "@univerjs/sheets-ui";
import { UniverSheetsFormulaPlugin } from "@univerjs/sheets-formula";
import { UniverSheetsFormulaUIPlugin } from "@univerjs/sheets-formula-ui";
import { UniverSheetsNumfmtPlugin } from '@univerjs/sheets-numfmt';
import DesignEnUS from '@univerjs/design/locale/en-US';
import UIEnUS from '@univerjs/ui/locale/en-US';
import DocsUIEnUS from '@univerjs/docs-ui/locale/en-US';
import SheetsEnUS from '@univerjs/sheets/locale/en-US';
import SheetsUIEnUS from '@univerjs/sheets-ui/locale/en-US';
import SheetsFormulaUIEnUS from '@univerjs/sheets-formula-ui/locale/en-US';
import SheetsNumfmtEnUS from '@univerjs/sheets-numfmt/locale/en-US';

import "@univerjs/design/lib/index.css";
import "@univerjs/ui/lib/index.css";
import "@univerjs/docs-ui/lib/index.css";
import "@univerjs/sheets-ui/lib/index.css";
import "@univerjs/sheets-formula-ui/lib/index.css";
import '@univerjs/sheets-numfmt/lib/index.css';

import '@univerjs/engine-formula/facade';
import '@univerjs/ui/facade';
import '@univerjs/docs-ui/facade';
import '@univerjs/sheets/facade';
import '@univerjs/sheets-ui/facade';
import '@univerjs/sheets-formula/facade';
import '@univerjs/sheets-numfmt/facade';

const univer = new Univer({
  theme: defaultTheme,
  locale: LocaleType.EN_US,
  locales: {
    [LocaleType.EN_US]: Tools.deepMerge(
      DesignEnUS,
      UIEnUS,
      DocsUIEnUS,
      SheetsEnUS,
      SheetsUIEnUS,
      SheetsFormulaUIEnUS,
      SheetsNumfmtEnUS
    ),
  },
});

univer.registerPlugin(UniverRenderEnginePlugin);
univer.registerPlugin(UniverFormulaEnginePlugin);
univer.registerPlugin(UniverUIPlugin, {
  container: 'app',
});
univer.registerPlugin(UniverDocsPlugin);
univer.registerPlugin(UniverDocsUIPlugin);
univer.registerPlugin(UniverSheetsPlugin);
univer.registerPlugin(UniverSheetsUIPlugin);
univer.registerPlugin(UniverSheetsFormulaPlugin);
univer.registerPlugin(UniverSheetsFormulaUIPlugin);
univer.registerPlugin(UniverSheetsNumfmtPlugin);
```

## Installation for Univer on Node.js

<Tabs items={['pnpm', 'npm']}>
  <Tabs.Tab>
    ```shell
    pnpm add @univerjs/core @univerjs/design @univerjs/engine-render @univerjs/engine-formula @univerjs/docs @univerjs/sheets @univerjs/sheets-formula @univerjs/sheets-numfmt 
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```shell
    npm install @univerjs/core @univerjs/design @univerjs/engine-render @univerjs/engine-formula @univerjs/docs @univerjs/sheets @univerjs/sheets-formula @univerjs/sheets-numfmt
    ```
  </Tabs.Tab>
</Tabs>

```typescript {2-8,10-13,20-26}
import { LocaleType, Tools } from '@univerjs/core';
import { defaultTheme } from "@univerjs/design";
import { UniverRenderEnginePlugin } from "@univerjs/engine-render";
import { UniverFormulaEnginePlugin } from "@univerjs/engine-formula";
import { UniverDocsPlugin } from "@univerjs/docs";
import { UniverSheetsPlugin } from "@univerjs/sheets";
import { UniverSheetsFormulaPlugin } from "@univerjs/sheets-formula";
import { UniverSheetsNumfmtPlugin } from '@univerjs/sheets-numfmt';

import '@univerjs/engine-formula/facade';
import '@univerjs/sheets/facade';
import '@univerjs/sheets-formula/facade';
import '@univerjs/sheets-numfmt/facade';

const univer = new Univer({
  theme: defaultTheme,
  locale: LocaleType.ZH_CN,
});

univer.registerPlugin(UniverRenderEnginePlugin);
univer.registerPlugin(UniverFormulaEnginePlugin);
univer.registerPlugin(UniverDocsPlugin);
univer.registerPlugin(UniverSheetsPlugin);
univer.registerPlugin(UniverSheetsFormulaPlugin);
univer.registerPlugin(UniverSheetsNumfmtPlugin);
```

## Configuration

### `@univerjs/core`

`@univerjs/core` provides some configuration options that can be used to configure the theme, internationalization, etc.

```typescript
new Univer({
  theme: IStyleSheet;
  locale: LocaleType;
  locales: ILocales;
  logLevel?: LogLevel;
});
```

For a complete list of configuration options, see [IUniverConfig](https://github.com/dream-num/univer/blob/dev/packages/core/src/univer.ts#L57-L63).

### `@univerjs/ui`

`@univerjs/ui` provides some configuration options that can be used to configure the basic layout.

```typescript
univer.registerPlugin(UniverUIPlugin, {
  container?: string | HTMLElement;

  header?: boolean;
  footer?: boolean;
  contextMenu?: boolean;

  disableAutoFocus?: true;
  override?: DependencyOverride;
  menu?: MenuConfig;
});
```

* `container` - Container element, can be a string or DOM element.
* `header` - Whether to display the header.
* `toolbar` - Whether to display the header toolbar.  <VersionBadge version="0.2.0+" />
* `footer` - Whether to display the footer.
* `contextMenu` - Whether to display the right-click menu.
* `disableAutoFocus` - Whether to disable auto-focus.
* `override` - Dependency injection override configuration.
* `menu` - Menu configuration, see [Customize menu items (hide menu items)](/guides/sheets/advanced/custom-ui#customizing-menu-items-hiding-menu-items)
